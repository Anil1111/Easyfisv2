<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width,initial-scale=1.0">
    <link rel="shortcut icon" href="~/Images/icon/easyfislogomini.ico">
    <title>BIR CAS</title>

    @Styles.Render("~/Content/Software-css")
</head>
<body>
    <div id="o-wrapper" class="o-wrapper">
        <main class="o-content">
            @Html.Partial("_SoftwareHeader")

            <section class="content-header">
                <div class="container">
                    <h3>
                        BIR CAS
                    </h3>
                    <p>
                        <i class="fa fa-building-o fa-fw"></i> &nbsp; @ViewData["Company"] <br />
                        <i class="fa fa-home fa-fw"></i> &nbsp; <a href="#" onclick="getUserBranches()" style="color: white;">@ViewData["Branch"]</a>
                    </p>
                </div>
            </section>
            <section class="container">
                <div class="row">
                    <div class="col-md-5">

                        <!--
                            =========
                            Tab Pills
                            =========
                        -->
                        <ul class="nav nav-pills nav-stacked pill-custom pill-report-custom" role="tablist" id="myTab">
                            <li class="active"><a data-toggle="pill" href="#tabPillCashReceiptBook">Cash Receipt Book</a></li>
                            <li><a data-toggle="pill" href="#tabPillSalesJournal">Sales Journal</a></li>
                            <li><a data-toggle="pill" href="#tabPillPurchaseJournal">Purchase Journal</a></li>
                            <li><a data-toggle="pill" href="#tabPillDisbursementBook">Check/Cash Voucher</a></li>
                            <li><a data-toggle="pill" href="#tabPillGeneralLedger">General Ledger</a></li>
                            <li class="reportDivider"><a data-toggle="pill" href="#tabPillInventoryJournal">Inventory Journal</a></li>
                            <li><a data-toggle="pill" href="#tabPillAuditTrail">Audit Trail</a></li>
                        </ul>
                    </div>
                    <div class="col-md-7">
                        <div class="tab-content">

                            <!--
                                ===============================
                                Tab Content - Cash Receipt Book
                                ===============================
                            -->
                            <div id="tabPillCashReceiptBook" class="tab-pane active">
                                <div class="panel panel-default">
                                    <div class="panel-heading">
                                        <div align="right">
                                            <button onclick="btnCashReceiptBookViewOnclick()" id="btnCashReceiptBookView" class="btn btn-primary"><i class="fa fa-table"></i> View</button>
                                            <button onclick="btnCashReceiptBookPrintOnclick()" id="btnCashReceiptBookPrint" class="btn btn-primary"><i class="fa fa-print"></i> Print</button>
                                            <a href="/Software" class="btn btn-danger" id=""><i class="fa fa-times"></i> Close</a>
                                        </div>
                                    </div>
                                    <div class="panel-body">
                                        <form class="form-horizontal" role="form">
                                            <div class="form-group">
                                                <label class="control-label col-sm-4">Start Date</label>
                                                <div class="col-sm-8">
                                                    <div class="comboBox-wide" id="cboCashReceiptBookStartDateFilter"></div>
                                                </div>
                                            </div>
                                            <div class="form-group">
                                                <label class="control-label col-sm-4">End Date</label>
                                                <div class="col-sm-8">
                                                    <div class="comboBox-wide" id="cboCashReceiptBookEndDateFilter"></div>
                                                </div>
                                            </div>
                                            <div class="form-group">
                                                <label class="control-label col-sm-4">Company</label>
                                                <div class="col-sm-8">
                                                    <div class="comboBox-wide" id="cboCashReceiptBookCompanyFilter"></div>
                                                </div>
                                            </div>
                                            <div class="form-group">
                                                <label class="control-label col-sm-4">Branch</label>
                                                <div class="col-sm-8">
                                                    <div class="comboBox-wide" id="cboCashReceiptBookBranchFilter"></div>
                                                </div>
                                            </div>
                                        </form>
                                    </div>
                                </div>
                            </div>

                            <!--
                                ===========================
                                Tab Content - Sales Journal
                                ===========================
                            -->
                            <div id="tabPillSalesJournal" class="tab-pane">
                                <div class="panel panel-default">
                                    <div class="panel-heading">
                                        <div align="right">
                                            <button onclick="btnSalesJournalViewOnclick()" class="btn btn-primary"><i class="fa fa-table"></i> View</button>
                                            <button onclick="btnSalesJournalPrintOnclick()" class="btn btn-primary"><i class="fa fa-print"></i> Print</button>
                                            <a href="/Software" class="btn btn-danger" id=""><i class="fa fa-times"></i> Close</a>
                                        </div>
                                    </div>
                                    <div class="panel-body">
                                        <form class="form-horizontal" role="form">
                                            <div class="form-group">
                                                <label class="control-label col-sm-4">Start Date</label>
                                                <div class="col-sm-8">
                                                    <div class="comboBox-wide" id="cboSalesJournalStartDateFilter"></div>
                                                </div>
                                            </div>
                                            <div class="form-group">
                                                <label class="control-label col-sm-4">End Date</label>
                                                <div class="col-sm-8">
                                                    <div class="comboBox-wide" id="cboSalesJournalEndDateFilter"></div>
                                                </div>
                                            </div>
                                            <div class="form-group">
                                                <label class="control-label col-sm-4">Company</label>
                                                <div class="col-sm-8">
                                                    <div class="comboBox-wide" id="cboSalesJournalCompanyFilter"></div>
                                                </div>
                                            </div>
                                            <div class="form-group">
                                                <label class="control-label col-sm-4">Branch</label>
                                                <div class="col-sm-8">
                                                    <div class="comboBox-wide" id="cboSalesJournalBranchFilter"></div>
                                                </div>
                                            </div>
                                        </form>
                                    </div>
                                </div>
                            </div>

                            <!--
                                ==============================
                                Tab Content - Purchase Journal
                                ==============================
                            -->
                            <div id="tabPillPurchaseJournal" class="tab-pane">
                                <div class="panel panel-default">
                                    <div class="panel-heading">
                                        <div align="right">
                                            <button onclick="btnPurchaseJournalViewOnclick()" class="btn btn-primary"><i class="fa fa-table"></i> View</button>
                                            <button onclick="btnPurchaseJournalPrintOnclick()" class="btn btn-primary"><i class="fa fa-print"></i> Print</button>
                                            <a href="/Software" class="btn btn-danger" id=""><i class="fa fa-times"></i> Close</a>
                                        </div>
                                    </div>
                                    <div class="panel-body">
                                        <form class="form-horizontal" role="form">
                                            <div class="form-group">
                                                <label class="control-label col-sm-4">Start Date</label>
                                                <div class="col-sm-8">
                                                    <div class="comboBox-wide" id="cboPurchaseJournalStartDateFilter"></div>
                                                </div>
                                            </div>
                                            <div class="form-group">
                                                <label class="control-label col-sm-4">End Date</label>
                                                <div class="col-sm-8">
                                                    <div class="comboBox-wide" id="cboPurchaseJournalEndDateFilter"></div>
                                                </div>
                                            </div>
                                            <div class="form-group">
                                                <label class="control-label col-sm-4">Company</label>
                                                <div class="col-sm-8">
                                                    <div class="comboBox-wide" id="cboPurchaseJournalCompanyFilter"></div>
                                                </div>
                                            </div>
                                            <div class="form-group">
                                                <label class="control-label col-sm-4">Branch</label>
                                                <div class="col-sm-8">
                                                    <div class="comboBox-wide" id="cboPurchaseJournalBranchFilter"></div>
                                                </div>
                                            </div>
                                        </form>
                                    </div>
                                </div>
                            </div>

                            <!--
                                ===============================
                                Tab Content - Disbursement Book
                                ===============================
                            -->
                            <div id="tabPillDisbursementBook" class="tab-pane">
                                <div class="panel panel-default">
                                    <div class="panel-heading">
                                        <div align="right">
                                            <button onclick="btnDisbursementBookViewOnclick()" class="btn btn-primary"><i class="fa fa-table"></i> View</button>
                                            <button onclick="btnDisbursementBookPrintOnclick()" class="btn btn-primary"><i class="fa fa-print"></i> Print</button>
                                            <a href="/Software" class="btn btn-danger" id=""><i class="fa fa-times"></i> Close</a>
                                        </div>
                                    </div>
                                    <div class="panel-body">
                                        <form class="form-horizontal" role="form">
                                            <div class="form-group">
                                                <label class="control-label col-sm-4">Start Date</label>
                                                <div class="col-sm-8">
                                                    <div class="comboBox-wide" id="cboDisbursementBookStartDateFilter"></div>
                                                </div>
                                            </div>
                                            <div class="form-group">
                                                <label class="control-label col-sm-4">End Date</label>
                                                <div class="col-sm-8">
                                                    <div class="comboBox-wide" id="cboDisbursementBookEndDateFilter"></div>
                                                </div>
                                            </div>
                                            <div class="form-group">
                                                <label class="control-label col-sm-4">Company</label>
                                                <div class="col-sm-8">
                                                    <div class="comboBox-wide" id="cboDisbursementBookCompanyFilter"></div>
                                                </div>
                                            </div>
                                            <div class="form-group">
                                                <label class="control-label col-sm-4">Branch</label>
                                                <div class="col-sm-8">
                                                    <div class="comboBox-wide" id="cboDisbursementBookBranchFilter"></div>
                                                </div>
                                            </div>
                                        </form>
                                    </div>
                                </div>
                            </div>

                            <!--
                                ============================
                                Tab Content - General Ledger
                                ============================
                            -->
                            <div id="tabPillGeneralLedger" class="tab-pane">
                                <div class="panel panel-default">
                                    <div class="panel-heading">
                                        <div align="right">
                                            <button onclick="btnGeneralLedgerViewOnclick()" class="btn btn-primary"><i class="fa fa-table"></i> View</button>
                                            <button onclick="btnGeneralLedgerPrintOnclick()" class="btn btn-primary"><i class="fa fa-print"></i> Print</button>
                                            <a href="/Software" class="btn btn-danger" id=""><i class="fa fa-times"></i> Close</a>
                                        </div>
                                    </div>
                                    <div class="panel-body">
                                        <form class="form-horizontal" role="form">
                                            <div class="form-group">
                                                <label class="control-label col-sm-4">Start Date</label>
                                                <div class="col-sm-8">
                                                    <div class="comboBox-wide" id="cboGeneralLedgerStartDateFilter"></div>
                                                </div>
                                            </div>
                                            <div class="form-group">
                                                <label class="control-label col-sm-4">End Date</label>
                                                <div class="col-sm-8">
                                                    <div class="comboBox-wide" id="cboGeneralLedgerEndDateFilter"></div>
                                                </div>
                                            </div>
                                            <div class="form-group">
                                                <label class="control-label col-sm-4">Company</label>
                                                <div class="col-sm-8">
                                                    <div class="comboBox-wide" id="cboGeneralLedgerCompanyFilter"></div>
                                                </div>
                                            </div>
                                            <div class="form-group">
                                                <label class="control-label col-sm-4">Branch</label>
                                                <div class="col-sm-8">
                                                    <div class="comboBox-wide" id="cboGeneralLedgerBranchFilter"></div>
                                                </div>
                                            </div>
                                        </form>
                                    </div>
                                </div>
                            </div>

                            <!--
                                ===============================
                                Tab Content - Inventory Journal
                                ===============================
                            -->
                            <div id="tabPillInventoryJournal" class="tab-pane">
                                <div class="panel panel-default">
                                    <div class="panel-heading">
                                        <div align="right">
                                            <button onclick="btnInventoryJournalViewOnclick()" class="btn btn-primary"><i class="fa fa-table"></i> View</button>
                                            <button onclick="btnInventoryJournalPrintOnclick()" class="btn btn-primary"><i class="fa fa-print"></i> Print</button>
                                            <a href="/Software" class="btn btn-danger" id=""><i class="fa fa-times"></i> Close</a>
                                        </div>
                                    </div>
                                    <div class="panel-body">
                                        <form class="form-horizontal" role="form">
                                            <div class="form-group">
                                                <label class="control-label col-sm-4">Start Date</label>
                                                <div class="col-sm-8">
                                                    <div class="comboBox-wide" id="cboInventoryJournalStartDateFilter"></div>
                                                </div>
                                            </div>
                                            <div class="form-group">
                                                <label class="control-label col-sm-4">End Date</label>
                                                <div class="col-sm-8">
                                                    <div class="comboBox-wide" id="cboInventoryJournalEndDateFilter"></div>
                                                </div>
                                            </div>
                                            <div class="form-group">
                                                <label class="control-label col-sm-4">Company</label>
                                                <div class="col-sm-8">
                                                    <div class="comboBox-wide" id="cboInventoryJournalCompanyFilter"></div>
                                                </div>
                                            </div>
                                            <div class="form-group">
                                                <label class="control-label col-sm-4">Branch</label>
                                                <div class="col-sm-8">
                                                    <div class="comboBox-wide" id="cboInventoryJournalBranchFilter"></div>
                                                </div>
                                            </div>
                                        </form>
                                    </div>
                                </div>
                            </div>

                            <!--
                                =========================
                                Tab Content - Audit Trail
                                =========================
                            -->
                            <div id="tabPillAuditTrail" class="tab-pane">
                                <div class="panel panel-default">
                                    <div class="panel-heading">
                                        <div align="right">
                                            <button onclick="btnAuditTrailViewOnclick()" class="btn btn-primary"><i class="fa fa-table"></i> View</button>
                                            <button onclick="btnAuditTrailPrintOnclick()" class="btn btn-primary"><i class="fa fa-print"></i> Print</button>
                                            <a href="/Software" class="btn btn-danger" id=""><i class="fa fa-times"></i> Close</a>
                                        </div>
                                    </div>
                                    <div class="panel-body">
                                        <form class="form-horizontal" role="form">
                                            <div class="form-group">
                                                <label class="control-label col-sm-4">Start Date</label>
                                                <div class="col-sm-8">
                                                    <div class="comboBox-wide" id="cboAuditTrailStartDateFilter"></div>
                                                </div>
                                            </div>
                                            <div class="form-group">
                                                <label class="control-label col-sm-4">End Date</label>
                                                <div class="col-sm-8">
                                                    <div class="comboBox-wide" id="cboAuditTrailEndDateFilter"></div>
                                                </div>
                                            </div>
                                            <div class="form-group">
                                                <label class="control-label col-sm-4">Company</label>
                                                <div class="col-sm-8">
                                                    <div class="comboBox-wide" id="cboAuditTrailCompanyFilter"></div>
                                                </div>
                                            </div>
                                            <div class="form-group">
                                                <label class="control-label col-sm-4">Branch</label>
                                                <div class="col-sm-8">
                                                    <div class="comboBox-wide" id="cboAuditTrailBranchFilter"></div>
                                                </div>
                                            </div>
                                        </form>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            @Html.Partial("_SoftwareFooter")
        </main>
    </div>
    <div id="c-mask" class="c-mask"></div>

    @Scripts.Render("~/Scripts/Software-js")
    <script type="text/javascript">
        // =========================
        // Cash Receipt Book Filters
        // =========================
        var cboCashReceiptBookStartDateFilter = new wijmo.input.InputDate('#cboCashReceiptBookStartDateFilter');
        var cboCashReceiptBookEndDateFilter = new wijmo.input.InputDate('#cboCashReceiptBookEndDateFilter');
        var cboCashReceiptBookCompanyFilter = new wijmo.input.ComboBox('#cboCashReceiptBookCompanyFilter');
        var cboCashReceiptBookBranchFilter = new wijmo.input.ComboBox('#cboCashReceiptBookBranchFilter');

        // =====================
        // Sales Journal Filters
        // =====================
        var cboSalesJournalStartDateFilter = new wijmo.input.InputDate('#cboSalesJournalStartDateFilter');
        var cboSalesJournalEndDateFilter = new wijmo.input.InputDate('#cboSalesJournalEndDateFilter');
        var cboSalesJournalCompanyFilter = new wijmo.input.ComboBox('#cboSalesJournalCompanyFilter');
        var cboSalesJournalBranchFilter = new wijmo.input.ComboBox('#cboSalesJournalBranchFilter');

        // ========================
        // Purchase Journal Ledgers
        // ========================
        var cboPurchaseJournalStartDateFilter = new wijmo.input.InputDate('#cboPurchaseJournalStartDateFilter');
        var cboPurchaseJournalEndDateFilter = new wijmo.input.InputDate('#cboPurchaseJournalEndDateFilter');
        var cboPurchaseJournalCompanyFilter = new wijmo.input.ComboBox('#cboPurchaseJournalCompanyFilter');
        var cboPurchaseJournalBranchFilter = new wijmo.input.ComboBox('#cboPurchaseJournalBranchFilter');

        // =========================
        // Disbursement Book Filters
        // =========================
        var cboDisbursementBookStartDateFilter = new wijmo.input.InputDate('#cboDisbursementBookStartDateFilter');
        var cboDisbursementBookEndDateFilter = new wijmo.input.InputDate('#cboDisbursementBookEndDateFilter');
        var cboDisbursementBookCompanyFilter = new wijmo.input.ComboBox('#cboDisbursementBookCompanyFilter');
        var cboDisbursementBookBranchFilter = new wijmo.input.ComboBox('#cboDisbursementBookBranchFilter');

        // ======================
        // General Ledger Filters
        // ======================
        var cboGeneralLedgerStartDateFilter = new wijmo.input.InputDate('#cboGeneralLedgerStartDateFilter');
        var cboGeneralLedgerEndDateFilter = new wijmo.input.InputDate('#cboGeneralLedgerEndDateFilter');
        var cboGeneralLedgerCompanyFilter = new wijmo.input.ComboBox('#cboGeneralLedgerCompanyFilter');
        var cboGeneralLedgerBranchFilter = new wijmo.input.ComboBox('#cboGeneralLedgerBranchFilter');

        // =========================
        // Inventory Journal Filters
        // =========================
        var cboInventoryJournalStartDateFilter = new wijmo.input.InputDate('#cboInventoryJournalStartDateFilter');
        var cboInventoryJournalEndDateFilter = new wijmo.input.InputDate('#cboInventoryJournalEndDateFilter');
        var cboInventoryJournalCompanyFilter = new wijmo.input.ComboBox('#cboInventoryJournalCompanyFilter');
        var cboInventoryJournalBranchFilter = new wijmo.input.ComboBox('#cboInventoryJournalBranchFilter');

        // =========================
        // Inventory Journal Filters
        // =========================
        var cboAuditTrailStartDateFilter = new wijmo.input.InputDate('#cboAuditTrailStartDateFilter');
        var cboAuditTrailEndDateFilter = new wijmo.input.InputDate('#cboAuditTrailEndDateFilter');
        var cboAuditTrailCompanyFilter = new wijmo.input.ComboBox('#cboAuditTrailCompanyFilter');
        var cboAuditTrailBranchFilter = new wijmo.input.ComboBox('#cboAuditTrailBranchFilter');

        // ==============================
        // All Company Dropdown Selection
        // ==============================
        var isCboCashReceiptBookCompanyFilterSelected = true;
        var isCboSalesJournalCompanyFilterSelected = true;
        var isCboPurchaseJournalCompanyFilterSelected = true;
        var isCboDisbursementBookCompanyFilterSelected = true;
        var isCboGeneralLedgerCompanyFilterSelected = true;
        var isCboInventoryJournalCompanyFilterSelected = true;
        var isCboAuditTrailCompanyFilterSelected = true;

        // ======================
        // Enabling Branch Filter
        // ======================
        var enableBranchSelect = false;

        // ========================================
        // Create All Accounts Payable Date Filters
        // ========================================
        function createAllAccountsPayableDateFilters() {
            // =================
            // Cash Receipt Book
            // =================
            NProgress.start();
            cboCashReceiptBookStartDateFilter.dispose();
            cboCashReceiptBookStartDateFilter = new wijmo.input.InputDate('#cboCashReceiptBookStartDateFilter', {
                format: 'MM-dd-yyyy',
                value: new Date()
            });

            cboCashReceiptBookEndDateFilter.dispose();
            cboCashReceiptBookEndDateFilter = new wijmo.input.InputDate('#cboCashReceiptBookEndDateFilter', {
                format: 'MM-dd-yyyy',
                value: new Date()
            });

            // =============
            // Sales Journal
            // =============
            cboSalesJournalStartDateFilter.dispose();
            cboSalesJournalStartDateFilter = new wijmo.input.InputDate('#cboSalesJournalStartDateFilter', {
                format: 'MM-dd-yyyy',
                value: new Date()
            });

            cboSalesJournalEndDateFilter.dispose();
            cboSalesJournalEndDateFilter = new wijmo.input.InputDate('#cboSalesJournalEndDateFilter', {
                format: 'MM-dd-yyyy',
                value: new Date()
            });

            // ================
            // Purchase Journal
            // ================
            cboPurchaseJournalStartDateFilter.dispose();
            cboPurchaseJournalStartDateFilter = new wijmo.input.InputDate('#cboPurchaseJournalStartDateFilter', {
                format: 'MM-dd-yyyy',
                value: new Date()
            });

            cboPurchaseJournalEndDateFilter.dispose();
            cboPurchaseJournalEndDateFilter = new wijmo.input.InputDate('#cboPurchaseJournalEndDateFilter', {
                format: 'MM-dd-yyyy',
                value: new Date()
            });

            // =================
            // Disbursement Book
            // =================
            cboDisbursementBookStartDateFilter.dispose();
            cboDisbursementBookStartDateFilter = new wijmo.input.InputDate('#cboDisbursementBookStartDateFilter', {
                format: 'MM-dd-yyyy',
                value: new Date()
            });

            cboDisbursementBookEndDateFilter.dispose();
            cboDisbursementBookEndDateFilter = new wijmo.input.InputDate('#cboDisbursementBookEndDateFilter', {
                format: 'MM-dd-yyyy',
                value: new Date()
            });

            // ==============
            // General Ledger
            // ==============
            cboGeneralLedgerStartDateFilter.dispose();
            cboGeneralLedgerStartDateFilter = new wijmo.input.InputDate('#cboGeneralLedgerStartDateFilter', {
                format: 'MM-dd-yyyy',
                value: new Date()
            });

            cboGeneralLedgerEndDateFilter.dispose();
            cboGeneralLedgerEndDateFilter = new wijmo.input.InputDate('#cboGeneralLedgerEndDateFilter', {
                format: 'MM-dd-yyyy',
                value: new Date()
            });

            // =================
            // Inventory Journal
            // =================
            cboInventoryJournalStartDateFilter.dispose();
            cboInventoryJournalStartDateFilter = new wijmo.input.InputDate('#cboInventoryJournalStartDateFilter', {
                format: 'MM-dd-yyyy',
                value: new Date()
            });

            cboInventoryJournalEndDateFilter.dispose();
            cboInventoryJournalEndDateFilter = new wijmo.input.InputDate('#cboInventoryJournalEndDateFilter', {
                format: 'MM-dd-yyyy',
                value: new Date()
            });

            // ===========
            // Audit Trail
            // ===========
            cboAuditTrailStartDateFilter.dispose();
            cboAuditTrailStartDateFilter = new wijmo.input.InputDate('#cboAuditTrailStartDateFilter', {
                format: 'MM-dd-yyyy',
                value: new Date()
            });

            cboAuditTrailEndDateFilter.dispose();
            cboAuditTrailEndDateFilter = new wijmo.input.InputDate('#cboAuditTrailEndDateFilter', {
                format: 'MM-dd-yyyy',
                value: new Date()
            });

            createCboCompanyFilters();
        }

        // ================================
        // Create All Combo Company Filters
        // ================================
        function createCboCompanyFilters() {
            var companyObservableArray = new wijmo.collections.ObservableArray();

            $.ajax({
                url: '/api/BIRCASReport/dropdown/list/company',
                cache: false,
                type: 'GET',
                contentType: 'application/json; charset=utf-8',
                success: function (results) {
                    if (results.length > 0) {
                        for (i = 0; i < results.length; i++) {
                            companyObservableArray.push({
                                Id: results[i]["Id"],
                                Company: results[i]["Company"]
                            });
                        }
                    }

                    var disabled = true;
                    if (results.length > 0) {
                        disabled = false;
                    } else {
                        $("#btnAccountsPayableReportView").prop("disabled", true);
                        $("#btnAccountsPayableReportPrint").prop("disabled", true);
                    }

                    cboCashReceiptBookCompanyFilter.dispose();
                    cboCashReceiptBookCompanyFilter = new wijmo.input.ComboBox('#cboCashReceiptBookCompanyFilter', {
                        disabled: disabled,
                        isEditable: false,
                        itemsSource: companyObservableArray,
                        displayMemberPath: "Company",
                        selectedValuePath: "Id",
                        selectedValue: @ViewData["CompanyId"],
                        onSelectedIndexChanged: function () {
                            isCboCashReceiptBookCompanyFilterSelected = true;
                            if (this.selectedValue != null) {
                                createCboBranchFilters(this.selectedValue);
                            } else {
                                createCboBranchFilters(0);
                            }
                        }
                    });

                    cboSalesJournalCompanyFilter.dispose();
                    cboSalesJournalCompanyFilter = new wijmo.input.ComboBox('#cboSalesJournalCompanyFilter', {
                        disabled: disabled,
                        isEditable: false,
                        itemsSource: companyObservableArray,
                        displayMemberPath: "Company",
                        selectedValuePath: "Id",
                        selectedValue: @ViewData["CompanyId"],
                        onSelectedIndexChanged: function () {
                            isCboSalesJournalCompanyFilterSelected = true;
                            if (this.selectedValue != null) {
                                createCboBranchFilters(this.selectedValue);
                            } else {
                                createCboBranchFilters(0);
                            }
                        }
                    });

                    cboPurchaseJournalCompanyFilter.dispose();
                    cboPurchaseJournalCompanyFilter = new wijmo.input.ComboBox('#cboPurchaseJournalCompanyFilter', {
                        disabled: disabled,
                        isEditable: false,
                        itemsSource: companyObservableArray,
                        displayMemberPath: "Company",
                        selectedValuePath: "Id",
                        selectedValue: @ViewData["CompanyId"],
                        onSelectedIndexChanged: function () {
                            isCboPurchaseJournalCompanyFilterSelected = true;
                            if (this.selectedValue != null) {
                                createCboBranchFilters(this.selectedValue);
                            } else {
                                createCboBranchFilters(0);
                            }
                        }
                    });

                    cboDisbursementBookCompanyFilter.dispose();
                    cboDisbursementBookCompanyFilter = new wijmo.input.ComboBox('#cboDisbursementBookCompanyFilter', {
                        disabled: disabled,
                        isEditable: false,
                        itemsSource: companyObservableArray,
                        displayMemberPath: "Company",
                        selectedValuePath: "Id",
                        selectedValue: @ViewData["CompanyId"],
                        onSelectedIndexChanged: function () {
                            isCboDisbursementBookCompanyFilterSelected = true;
                            if (this.selectedValue != null) {
                                createCboBranchFilters(this.selectedValue);
                            } else {
                                createCboBranchFilters(0);
                            }
                        }
                    });

                    cboGeneralLedgerCompanyFilter.dispose();
                    cboGeneralLedgerCompanyFilter = new wijmo.input.ComboBox('#cboGeneralLedgerCompanyFilter', {
                        disabled: disabled,
                        isEditable: false,
                        itemsSource: companyObservableArray,
                        displayMemberPath: "Company",
                        selectedValuePath: "Id",
                        selectedValue: @ViewData["CompanyId"],
                        onSelectedIndexChanged: function () {
                            isCboGeneralLedgerCompanyFilterSelected = true;
                            if (this.selectedValue != null) {
                                createCboBranchFilters(this.selectedValue);
                            } else {
                                createCboBranchFilters(0);
                            }
                        }
                    });

                    cboInventoryJournalCompanyFilter.dispose();
                    cboInventoryJournalCompanyFilter = new wijmo.input.ComboBox('#cboInventoryJournalCompanyFilter', {
                        disabled: disabled,
                        isEditable: false,
                        itemsSource: companyObservableArray,
                        displayMemberPath: "Company",
                        selectedValuePath: "Id",
                        selectedValue: @ViewData["CompanyId"],
                        onSelectedIndexChanged: function () {
                            isCboInventoryJournalCompanyFilterSelected = true;
                            if (this.selectedValue != null) {
                                createCboBranchFilters(this.selectedValue);
                            } else {
                                createCboBranchFilters(0);
                            }
                        }
                    });

                    cboAuditTrailCompanyFilter.dispose();
                    cboAuditTrailCompanyFilter = new wijmo.input.ComboBox('#cboAuditTrailCompanyFilter', {
                        disabled: disabled,
                        isEditable: false,
                        itemsSource: companyObservableArray,
                        displayMemberPath: "Company",
                        selectedValuePath: "Id",
                        selectedValue: @ViewData["CompanyId"],
                        onSelectedIndexChanged: function () {
                            isCboAuditTrailCompanyFilterSelected = true;
                            if (this.selectedValue != null) {
                                createCboBranchFilters(this.selectedValue);
                            } else {
                                createCboBranchFilters(0);
                            }
                        }
                    });

                    if (cboCashReceiptBookCompanyFilter.selectedValue != null) {
                        createCboBranchFilters(cboCashReceiptBookCompanyFilter.selectedValue);
                    } else {
                        createCboBranchFilters(null);
                    }
                }
            });
        }

        // ===============================
        // Create All Combo Branch Filters
        // ===============================
        function createCboBranchFilters(companyId) {
            var branchObservableArray = new wijmo.collections.ObservableArray();

            if (companyId != null) {
                $.ajax({
                    url: '/api/BIRCASReport/dropdown/list/branch/' + companyId,
                    cache: false,
                    type: 'GET',
                    contentType: 'application/json; charset=utf-8',
                    success: function (results) {
                        if (results.length > 0) {
                            branchObservableArray.push({
                                Id: 0,
                                Branch: "All Branches"
                            });

                            for (i = 0; i < results.length; i++) {
                                branchObservableArray.push({
                                    Id: results[i]["Id"],
                                    Branch: results[i]["Branch"]
                                });
                            }
                        }

                        var disabled = true;
                        if (results.length > 0) {
                            disabled = false;
                            $("#btnAccountsPayableReportView").prop("disabled", false);
                            $("#btnAccountsPayableReportPrint").prop("disabled", false);
                        } else {
                            $("#btnAccountsPayableReportView").prop("disabled", true);
                            $("#btnAccountsPayableReportPrint").prop("disabled", true);
                        }

                        NProgress.done();

                        if (isCboCashReceiptBookCompanyFilterSelected) {
                            cboCashReceiptBookBranchFilter.dispose();
                            cboCashReceiptBookBranchFilter = new wijmo.input.ComboBox('#cboCashReceiptBookBranchFilter', {
                                disabled: disabled,
                                isEditable: false,
                                itemsSource: branchObservableArray,
                                displayMemberPath: "Branch",
                                selectedValuePath: "Id",
                                selectedValue: @ViewData["BranchId"]
                            });
                        }

                        if (isCboSalesJournalCompanyFilterSelected) {
                            cboSalesJournalBranchFilter.dispose();
                            cboSalesJournalBranchFilter = new wijmo.input.ComboBox('#cboSalesJournalBranchFilter', {
                                disabled: disabled,
                                isEditable: false,
                                itemsSource: branchObservableArray,
                                displayMemberPath: "Branch",
                                selectedValuePath: "Id",
                                selectedValue: @ViewData["BranchId"]
                            });
                        }

                        if (isCboPurchaseJournalCompanyFilterSelected) {
                            cboPurchaseJournalBranchFilter.dispose();
                            cboPurchaseJournalBranchFilter = new wijmo.input.ComboBox('#cboPurchaseJournalBranchFilter', {
                                disabled: disabled,
                                isEditable: false,
                                itemsSource: branchObservableArray,
                                displayMemberPath: "Branch",
                                selectedValuePath: "Id",
                                selectedValue: @ViewData["BranchId"]
                            });
                        }

                        if (isCboDisbursementBookCompanyFilterSelected) {
                            cboDisbursementBookBranchFilter.dispose();
                            cboDisbursementBookBranchFilter = new wijmo.input.ComboBox('#cboDisbursementBookBranchFilter', {
                                disabled: disabled,
                                isEditable: false,
                                itemsSource: branchObservableArray,
                                displayMemberPath: "Branch",
                                selectedValuePath: "Id",
                                selectedValue: @ViewData["BranchId"]
                            });
                        }

                        if (isCboGeneralLedgerCompanyFilterSelected) {
                            cboGeneralLedgerBranchFilter.dispose();
                            cboGeneralLedgerBranchFilter = new wijmo.input.ComboBox('#cboGeneralLedgerBranchFilter', {
                                disabled: disabled,
                                isEditable: false,
                                itemsSource: branchObservableArray,
                                displayMemberPath: "Branch",
                                selectedValuePath: "Id",
                                selectedValue: @ViewData["BranchId"]
                            });
                        }

                        if (isCboInventoryJournalCompanyFilterSelected) {
                            cboInventoryJournalBranchFilter.dispose();
                            cboInventoryJournalBranchFilter = new wijmo.input.ComboBox('#cboInventoryJournalBranchFilter', {
                                disabled: disabled,
                                isEditable: false,
                                itemsSource: branchObservableArray,
                                displayMemberPath: "Branch",
                                selectedValuePath: "Id",
                                selectedValue: @ViewData["BranchId"]
                            });
                        }

                        if (isCboAuditTrailCompanyFilterSelected) {
                            cboAuditTrailBranchFilter.dispose();
                            cboAuditTrailBranchFilter = new wijmo.input.ComboBox('#cboAuditTrailBranchFilter', {
                                disabled: disabled,
                                isEditable: false,
                                itemsSource: branchObservableArray,
                                displayMemberPath: "Branch",
                                selectedValuePath: "Id",
                                selectedValue: @ViewData["BranchId"]
                            });
                        }

                        if (!enableBranchSelect) {
                            enableBranchSelect = true;
                        }

                        isCboCashReceiptBookCompanyFilterSelected = false;
                        isCboSalesJournalCompanyFilterSelected = false;
                        isCboPurchaseJournalCompanyFilterSelected = false;
                        isCboDisbursementBookCompanyFilterSelected = false;
                        isCboGeneralLedgerCompanyFilterSelected = false;
                        isCboInventoryJournalCompanyFilterSelected = false;
                        isCboAuditTrailCompanyFilterSelected = false;
                    }
                });
            } else {
                NProgress.done();

                cboCashReceiptBookBranchFilter.dispose();
                cboCashReceiptBookBranchFilter = new wijmo.input.ComboBox('#cboCashReceiptBookBranchFilter', {
                    disabled: true,
                    isEditable: false,
                    itemsSource: branchObservableArray,
                });

                cboSalesJournalBranchFilter.dispose();
                cboSalesJournalBranchFilter = new wijmo.input.ComboBox('#cboSalesJournalBranchFilter', {
                    disabled: true,
                    isEditable: false,
                    itemsSource: branchObservableArray,
                });

                cboPurchaseJournalBranchFilter.dispose();
                cboPurchaseJournalBranchFilter = new wijmo.input.ComboBox('#cboPurchaseJournalBranchFilter', {
                    disabled: true,
                    isEditable: false,
                    itemsSource: branchObservableArray,
                });

                cboDisbursementBookBranchFilter.dispose();
                cboDisbursementBookBranchFilter = new wijmo.input.ComboBox('#cboDisbursementBookBranchFilter', {
                    disabled: true,
                    isEditable: false,
                    itemsSource: branchObservableArray,
                });

                cboGeneralLedgerBranchFilter.dispose();
                cboGeneralLedgerBranchFilter = new wijmo.input.ComboBox('#cboGeneralLedgerBranchFilter', {
                    disabled: true,
                    isEditable: false,
                    itemsSource: branchObservableArray,
                });

                cboInventoryJournalBranchFilter.dispose();
                cboInventoryJournalBranchFilter = new wijmo.input.ComboBox('#cboInventoryJournalBranchFilter', {
                    disabled: true,
                    isEditable: false,
                    itemsSource: branchObservableArray,
                });

                cboAuditTrailBranchFilter.dispose();
                cboAuditTrailBranchFilter = new wijmo.input.ComboBox('#cboAuditTrailBranchFilter', {
                    disabled: true,
                    isEditable: false,
                    itemsSource: branchObservableArray,
                });

                if (!enableBranchSelect) {
                    enableBranchSelect = true;
                }

                isCboCashReceiptBookCompanyFilterSelected = false;
                isCboSalesJournalCompanyFilterSelected = false;
                isCboPurchaseJournalCompanyFilterSelected = false;
                isCboDisbursementBookCompanyFilterSelected = false;
                isCboGeneralLedgerCompanyFilterSelected = false;
                isCboInventoryJournalCompanyFilterSelected = false;
                isCboAuditTrailCompanyFilterSelected = false;
            }
        }

        // =================
        // Cash Receipt View
        // =================
        function btnCashReceiptBookViewOnclick() {
            if (cboCashReceiptBookCompanyFilter.selectedValue != null) {
                if (cboCashReceiptBookBranchFilter.selectedValue != null) {
                    var startDate = cboCashReceiptBookStartDateFilter.value.toLocaleDateString().replace(/\//g, '-');
                    var endDate = cboCashReceiptBookEndDateFilter.value.toLocaleDateString().replace(/\//g, '-');
                    var companyId = cboCashReceiptBookCompanyFilter.selectedValue;
                    var branchId = cboCashReceiptBookBranchFilter.selectedValue;

                    window.location.href = '/Software/BIRCASCashReceiptBook?StartDate=' + startDate + '&EndDate=' + endDate + '&CompanyId=' + companyId + '&BranchId=' + branchId;
                } else {
                    toastr.error("Lacking Information");
                }
            } else {
                toastr.error("Lacking Information");
            }
        }

        // ==================
        // Cash Receipt Print
        // ==================
        function btnCashReceiptBookPrintOnclick() {
            if (cboCashReceiptBookCompanyFilter.selectedValue != null) {
                if (cboCashReceiptBookBranchFilter.selectedValue != null) {
                    var startDate = cboCashReceiptBookStartDateFilter.value.toLocaleDateString().replace(/\//g, '-');
                    var endDate = cboCashReceiptBookEndDateFilter.value.toLocaleDateString().replace(/\//g, '-');
                    var companyId = cboCashReceiptBookCompanyFilter.selectedValue;
                    var branchId = cboCashReceiptBookBranchFilter.selectedValue;

                    window.location.href = '/RepBIRCASCashReceiptBook/BIRCASCashReceiptBook?StartDate=' + startDate + '&EndDate=' + endDate + '&CompanyId=' + companyId + '&BranchId=' + branchId;
                } else {
                    toastr.error("Lacking Information");
                }
            } else {
                toastr.error("Lacking Information");
            }
        }

        // ==================
        // Sales Journal View
        // ==================
        function btnSalesJournalViewOnclick() {
            if (cboSalesJournalCompanyFilter.selectedValue != null) {
                if (cboSalesJournalBranchFilter.selectedValue != null) {
                    var startDate = cboSalesJournalStartDateFilter.value.toLocaleDateString().replace(/\//g, '-');
                    var endDate = cboSalesJournalEndDateFilter.value.toLocaleDateString().replace(/\//g, '-');
                    var companyId = cboSalesJournalCompanyFilter.selectedValue;
                    var branchId = cboSalesJournalBranchFilter.selectedValue;

                    window.location.href = '/Software/BIRCASSalesJournal?StartDate=' + startDate + '&EndDate=' + endDate + '&CompanyId=' + companyId + '&BranchId=' + branchId;
                } else {
                    toastr.error("Lacking Information");
                }
            } else {
                toastr.error("Lacking Information");
            }
        }

        // ===================
        // Sales Journal Print
        // ===================
        function btnSalesJournalPrintOnclick() {
            if (cboSalesJournalCompanyFilter.selectedValue != null) {
                if (cboSalesJournalBranchFilter.selectedValue != null) {
                    var startDate = cboSalesJournalStartDateFilter.value.toLocaleDateString().replace(/\//g, '-');
                    var endDate = cboSalesJournalEndDateFilter.value.toLocaleDateString().replace(/\//g, '-');
                    var companyId = cboSalesJournalCompanyFilter.selectedValue;
                    var branchId = cboSalesJournalBranchFilter.selectedValue;

                    window.location.href = '/RepBIRCASSalesJournal/BIRCASSalesJournal?StartDate=' + startDate + '&EndDate=' + endDate + '&CompanyId=' + companyId + '&BranchId=' + branchId;
                } else {
                    toastr.error("Lacking Information");
                }
            } else {
                toastr.error("Lacking Information");
            }
        }

        // =====================
        // Purchase Journal View
        // =====================
        function btnPurchaseJournalViewOnclick() {
            if (cboPurchaseJournalCompanyFilter.selectedValue != null) {
                if (cboPurchaseJournalBranchFilter.selectedValue != null) {
                    var startDate = cboPurchaseJournalStartDateFilter.value.toLocaleDateString().replace(/\//g, '-');
                    var endDate = cboPurchaseJournalEndDateFilter.value.toLocaleDateString().replace(/\//g, '-');
                    var companyId = cboPurchaseJournalCompanyFilter.selectedValue;
                    var branchId = cboPurchaseJournalBranchFilter.selectedValue;

                    window.location.href = '/Software/BIRCASPurchaseJournal?StartDate=' + startDate + '&EndDate=' + endDate + '&CompanyId=' + companyId + '&BranchId=' + branchId;
                } else {
                    toastr.error("Lacking Information");
                }
            } else {
                toastr.error("Lacking Information");
            }
        }

        // ======================
        // Purchase Journal Print
        // ======================
        function btnPurchaseJournalPrintOnclick() {
            if (cboPurchaseJournalCompanyFilter.selectedValue != null) {
                if (cboPurchaseJournalBranchFilter.selectedValue != null) {
                    var startDate = cboPurchaseJournalStartDateFilter.value.toLocaleDateString().replace(/\//g, '-');
                    var endDate = cboPurchaseJournalEndDateFilter.value.toLocaleDateString().replace(/\//g, '-');
                    var companyId = cboPurchaseJournalCompanyFilter.selectedValue;
                    var branchId = cboPurchaseJournalBranchFilter.selectedValue;

                    window.location.href = '/RepBIRCASPurchaseJournal/BIRCASPurchaseJournal?StartDate=' + startDate + '&EndDate=' + endDate + '&CompanyId=' + companyId + '&BranchId=' + branchId;
                } else {
                    toastr.error("Lacking Information");
                }
            } else {
                toastr.error("Lacking Information");
            }
        }

        // ======================
        // Disbursement Book View
        // ======================
        function btnDisbursementBookViewOnclick() {
            if (cboDisbursementBookCompanyFilter.selectedValue != null) {
                if (cboDisbursementBookBranchFilter.selectedValue != null) {
                    var startDate = cboDisbursementBookStartDateFilter.value.toLocaleDateString().replace(/\//g, '-');
                    var endDate = cboDisbursementBookEndDateFilter.value.toLocaleDateString().replace(/\//g, '-');
                    var companyId = cboDisbursementBookCompanyFilter.selectedValue;
                    var branchId = cboDisbursementBookBranchFilter.selectedValue;

                    window.location.href = '/Software/BIRCASDisbursementBook?StartDate=' + startDate + '&EndDate=' + endDate + '&CompanyId=' + companyId + '&BranchId=' + branchId;
                } else {
                    toastr.error("Lacking Information");
                }
            } else {
                toastr.error("Lacking Information");
            }
        }

        // =======================
        // Disbursement Book Print
        // =======================
        function btnDisbursementBookPrintOnclick() {
            if (cboDisbursementBookCompanyFilter.selectedValue != null) {
                if (cboDisbursementBookBranchFilter.selectedValue != null) {
                    var startDate = cboDisbursementBookStartDateFilter.value.toLocaleDateString().replace(/\//g, '-');
                    var endDate = cboDisbursementBookEndDateFilter.value.toLocaleDateString().replace(/\//g, '-');
                    var companyId = cboDisbursementBookCompanyFilter.selectedValue;
                    var branchId = cboDisbursementBookBranchFilter.selectedValue;

                    window.location.href = '/RepBIRCASDisbursementBook/BIRCASDisbursementBook?StartDate=' + startDate + '&EndDate=' + endDate + '&CompanyId=' + companyId + '&BranchId=' + branchId;
                } else {
                    toastr.error("Lacking Information");
                }
            } else {
                toastr.error("Lacking Information");
            }
        }

        // ===================
        // General Ledger View
        // ===================
        function btnGeneralLedgerViewOnclick() {
            if (cboGeneralLedgerCompanyFilter.selectedValue != null) {
                if (cboGeneralLedgerBranchFilter.selectedValue != null) {
                    var startDate = cboGeneralLedgerStartDateFilter.value.toLocaleDateString().replace(/\//g, '-');
                    var endDate = cboGeneralLedgerEndDateFilter.value.toLocaleDateString().replace(/\//g, '-');
                    var companyId = cboGeneralLedgerCompanyFilter.selectedValue;
                    var branchId = cboGeneralLedgerBranchFilter.selectedValue;

                    window.location.href = '/Software/BIRCASGeneralLedger?StartDate=' + startDate + '&EndDate=' + endDate + '&CompanyId=' + companyId + '&BranchId=' + branchId;
                } else {
                    toastr.error("Lacking Information");
                }
            } else {
                toastr.error("Lacking Information");
            }
        }

        // ====================
        // General Ledger Print
        // ====================
        function btnGeneralLedgerPrintOnclick() {
            if (cboGeneralLedgerCompanyFilter.selectedValue != null) {
                if (cboGeneralLedgerBranchFilter.selectedValue != null) {
                    var startDate = cboGeneralLedgerStartDateFilter.value.toLocaleDateString().replace(/\//g, '-');
                    var endDate = cboGeneralLedgerEndDateFilter.value.toLocaleDateString().replace(/\//g, '-');
                    var companyId = cboGeneralLedgerCompanyFilter.selectedValue;
                    var branchId = cboGeneralLedgerBranchFilter.selectedValue;

                    window.location.href = '/RepBIRCASGeneralLedger/BIRCASGeneralLedger?StartDate=' + startDate + '&EndDate=' + endDate + '&CompanyId=' + companyId + '&BranchId=' + branchId;
                } else {
                    toastr.error("Lacking Information");
                }
            } else {
                toastr.error("Lacking Information");
            }
        }

        // ======================
        // Inventory Journal View
        // ======================
        function btnInventoryJournalViewOnclick() {
            if (cboInventoryJournalCompanyFilter.selectedValue != null) {
                if (cboInventoryJournalBranchFilter.selectedValue != null) {
                    var startDate = cboInventoryJournalStartDateFilter.value.toLocaleDateString().replace(/\//g, '-');
                    var endDate = cboInventoryJournalEndDateFilter.value.toLocaleDateString().replace(/\//g, '-');
                    var companyId = cboInventoryJournalCompanyFilter.selectedValue;
                    var branchId = cboInventoryJournalBranchFilter.selectedValue;

                    window.location.href = '/Software/BIRCASInventoryJournal?StartDate=' + startDate + '&EndDate=' + endDate + '&CompanyId=' + companyId + '&BranchId=' + branchId;
                } else {
                    toastr.error("Lacking Information");
                }
            } else {
                toastr.error("Lacking Information");
            }
        }

        // =======================
        // Inventory Journal Print
        // =======================
        function btnInventoryJournalPrintOnclick() {
            if (cboInventoryJournalCompanyFilter.selectedValue != null) {
                if (cboInventoryJournalBranchFilter.selectedValue != null) {
                    var startDate = cboInventoryJournalStartDateFilter.value.toLocaleDateString().replace(/\//g, '-');
                    var endDate = cboInventoryJournalEndDateFilter.value.toLocaleDateString().replace(/\//g, '-');
                    var companyId = cboInventoryJournalCompanyFilter.selectedValue;
                    var branchId = cboInventoryJournalBranchFilter.selectedValue;

                    window.location.href = '/RepBIRCASInventoryJournal/BIRCASInventoryJournal?StartDate=' + startDate + '&EndDate=' + endDate + '&CompanyId=' + companyId + '&BranchId=' + branchId;
                } else {
                    toastr.error("Lacking Information");
                }
            } else {
                toastr.error("Lacking Information");
            }
        }

        // ================
        // Audit Trail View
        // ================
        function btnAuditTrailViewOnclick() {
            if (cboAuditTrailCompanyFilter.selectedValue != null) {
                if (cboAuditTrailBranchFilter.selectedValue != null) {
                    var startDate = cboAuditTrailStartDateFilter.value.toLocaleDateString().replace(/\//g, '-');
                    var endDate = cboAuditTrailEndDateFilter.value.toLocaleDateString().replace(/\//g, '-');
                    var companyId = cboAuditTrailCompanyFilter.selectedValue;
                    var branchId = cboAuditTrailBranchFilter.selectedValue;

                    window.location.href = '/Software/BIRCASAuditTrail?StartDate=' + startDate + '&EndDate=' + endDate + '&CompanyId=' + companyId + '&BranchId=' + branchId;
                } else {
                    toastr.error("Lacking Information");
                }
            } else {
                toastr.error("Lacking Information");
            }
        }

        // =================
        // Audit Trail Print
        // =================
        function btnAuditTrailPrintOnclick() {
            if (cboAuditTrailCompanyFilter.selectedValue != null) {
                if (cboAuditTrailBranchFilter.selectedValue != null) {
                    var startDate = cboAuditTrailStartDateFilter.value.toLocaleDateString().replace(/\//g, '-');
                    var endDate = cboAuditTrailEndDateFilter.value.toLocaleDateString().replace(/\//g, '-');
                    var companyId = cboAuditTrailCompanyFilter.selectedValue;
                    var branchId = cboAuditTrailBranchFilter.selectedValue;

                    window.location.href = '/RepBIRCASAuditTrail/BIRCASAuditTrail?StartDate=' + startDate + '&EndDate=' + endDate + '&CompanyId=' + companyId + '&BranchId=' + branchId;
                } else {
                    toastr.error("Lacking Information");
                }
            } else {
                toastr.error("Lacking Information");
            }
        }

        // =============================
        // Document Ready - On load Page
        // =============================
        $(document).ready(function () {
            createAllAccountsPayableDateFilters();
        });
    </script>
    <script type="text/javascript">
        // =================
        // User Branch Combo
        // =================
        var cboUserBranches = new wijmo.input.ComboBox('#cboUserBranches');

        // =========================
        // Get Current User Branches
        // =========================
        function getUserBranches() {
            $("#loadingUserBranches").show();
            document.getElementById("loadingUserBranches").innerHTML = '<i class="fa fa-spinner fa-spin"></i>';
            $("#userBranchContent").hide();

            $('#userBranchesModal').modal({ show: true, backdrop: 'static' });

            document.getElementById('updateUserBranch').innerHTML = "<i class='fa fa-save fa-fw'></i> Update";
            $("#updateUserBranch").prop("disabled", false);
            $("#closeUserBranch").prop("disabled", false);

            var userBranchesObservableArray = new wijmo.collections.ObservableArray();
            $.ajax({
                url: '/api/userBranch/list',
                cache: false,
                type: 'GET',
                contentType: 'application/json; charset=utf-8',
                success: function (userBranchesResults) {
                    if (userBranchesResults.length > 0) {
                        for (i = 0; i < userBranchesResults.length; i++) {
                            userBranchesObservableArray.push({
                                BranchId: userBranchesResults[i]["BranchId"],
                                Branch: userBranchesResults[i]["Branch"]
                            });
                        }
                    }

                    var currentBranch = "@ViewData["BranchId"]";
                    cboUserBranches.dispose();
                    cboUserBranches = new wijmo.input.ComboBox('#cboUserBranches', {
                        isEditable: false,
                        placeholder: "Select Branches",
                        itemsSource: userBranchesObservableArray,
                        displayMemberPath: "Branch",
                        selectedValuePath: "BranchId",
                        selectedValue: currentBranch
                    });

                    setTimeout(function () {
                        $("#loadingUserBranches").hide();
                        $("#userBranchContent").show();
                    }, 500)
                }
            });
        }

        // ==========================
        // Update Current User Branch
        // ==========================
        function updateUserBranchOnclick() {
            document.getElementById('updateUserBranch').innerHTML = "<i class='fa fa-spinner fa-spin'></i> Updating";
            $("#updateUserBranch").prop("disabled", true);
            $("#closeUserBranch").prop("disabled", true);

            var userBranchObject = new Object();
            userBranchObject.BranchId = cboUserBranches.selectedValue;
            var userBranchData = JSON.stringify(userBranchObject);

            $.ajax({
                type: "PUT",
                url: '/api/userBranch/update',
                contentType: "application/json; charset=utf-8",
                dataType: "json",
                data: userBranchData,
                statusCode: {
                    200: function () {
                        toastr.success("Update Successful");
                        window.setTimeout(function () {
                            location.reload()
                        }, 1000);
                    },
                    404: function () {
                        toastr.error("Not Found");
                        document.getElementById('updateUserBranch').innerHTML = "<i class='fa fa-save fa-fw'></i> Update";
                        $("#updateUserBranch").prop("disabled", false);
                        $("#closeUserBranch").prop("disabled", false);
                    },
                    500: function () {
                        toastr.error("Bad Request");
                        document.getElementById('updateUserBranch').innerHTML = "<i class='fa fa-save fa-fw'></i> Update";
                        $("#updateUserBranch").prop("disabled", false);
                        $("#closeUserBranch").prop("disabled", false);
                    }
                }
            });
        }
    </script>
    <script type="text/javascript">
        // ======================
        // Side Bar Menu Settings
        // ======================
        var slideLeft = new Menu({
            wrapper: '#o-wrapper',
            type: 'slide-left',
            menuOpenerClass: '.c-button',
            maskId: '#c-mask'
        });

        var slideLeftBtn = document.querySelector('#c-button--slide-left');

        slideLeftBtn.addEventListener('click', function (e) {
            e.preventDefault;
            slideLeft.open();
        });
    </script>
</body>
</html>